extends layout.pug

mixin record(record)
  tr
    td= record.name
    td= record.position
    td= record.workStart
    td= record.lunchStart
    td= record.lunchStop
    td= record.workStop

block content
  .row
    h1 Review Timesheet
    .col-md-4
      p= department.name
    .col-md-6.offset-md-6
      .alert.alert-danger.d-flex.align-items-center(role='alert')
        svg.bi.flex-shrink-0.me-2(width='24' height='24' role='img' aria-label='Danger:')
          use(xlink:href='#exclamation-triangle-fill')
          symbol#exclamation-triangle-fill(fill='currentColor' viewbox='0 0 16 16')
            path(d='M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z')
        div
          p Confirm your date of work before submitting!
          p Date worked: 
            strong= date
          p Today's Date: 
            strong
              script.
                var today = new Date();
                var dd = String(today.getDate()).padStart(2, '0');
                var mm = String(today.getMonth() + 1).padStart(2, '0'); //January is 0!
                var yyyy = today.getFullYear();
                today = yyyy + '-' + mm + '-' + dd;
                document.write(today);

  .row.my-3
    .table-responsive
      table.table.table-sm
        thead
          tr
            th Name
            th Position
            th Work Start
            th Lunch Start
            th Lunch Stop
            th Work Stop

        tbody
          if entries
            each record in entries
              +record(record)

  if notes
    .row
      .col-12
        p.text-muted Notes
        p= notes

  .row
    .col-12.my-3.text-center
      a(href="dtr/submit").btn.btn-block.btn-primary.me-2.my-1 Submit to AD & production
      a(href="dtr").btn.btn-block.btn-outline-secondary.me-2.my-1 Make changes
